"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[74],{256:function(t,e,r){r.d(e,{Df:function(){return s},TP:function(){return l},jP:function(){return b},z1:function(){return p},zv:function(){return v}});var n=r(861),a=r(757),c=r.n(a),u=r(243),i="fb80b48b1255806de867923f1e41971b";function s(){return o.apply(this,arguments)}function o(){return(o=(0,n.Z)(c().mark((function t(){var e,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e="https://api.themoviedb.org/3/trending/all/day?api_key=".concat(i),t.next=4,u.Z.get(e);case 4:return r=t.sent,t.abrupt("return",r.data.results);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return h=(0,n.Z)(c().mark((function t(e){var r,n,a,s=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:1,t.prev=1,n="https://api.themoviedb.org/3/search/movie?api_key=".concat(i,"&query=").concat(e,"&page=").concat(r),t.next=5,u.Z.get(n);case 5:return a=t.sent,t.abrupt("return",a.data.results);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))),h.apply(this,arguments)}function l(t){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(c().mark((function t(e){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(i),t.next=4,u.Z.get(r);case 4:return n=t.sent,t.abrupt("return",n.data);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function v(t){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(c().mark((function t(e){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(i),t.next=4,u.Z.get(r);case 4:return n=t.sent,t.abrupt("return",n.data);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function b(t){return x.apply(this,arguments)}function x(){return(x=(0,n.Z)(c().mark((function t(e){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(i),t.next=4,u.Z.get(r);case 4:return n=t.sent,t.abrupt("return",n.data);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}},74:function(t,e,r){r.r(e);var n=r(861),a=r(439),c=r(757),u=r.n(c),i=r(791),s=r(87),o=r(689),p=r(256),h=r(184);e.default=function(){var t=(0,i.useState)(""),e=(0,a.Z)(t,2),r=e[0],c=e[1],l=(0,i.useState)([]),f=(0,a.Z)(l,2),v=f[0],d=f[1],b=(0,i.useState)(!1),x=(0,a.Z)(b,2),m=x[0],y=x[1],g=(0,s.lr)(),k=(0,a.Z)(g,2),w=k[0],Z=k[1],_=(0,i.useCallback)(function(){var t=(0,n.Z)(u().mark((function t(e){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,p.z1)(e);case 3:r=t.sent,d(r),y(!0),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error searching movies:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),[]);(0,i.useEffect)((function(){var t=w.get("query");t&&(c(t),_(t))}),[_,w]);var j=(0,o.TH)();return(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{children:"Search Movie"}),(0,h.jsx)("input",{type:"text",value:r,onChange:function(t){return c(t.target.value)}}),(0,h.jsx)("button",{onClick:function(){Z({query:r})},children:"Search "}),v&&m.length>0?(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{children:"Search Results"}),(0,h.jsx)("button",{onClick:function(){j.pathname.includes("/movies")?window.history.back():window.location.href="/"},children:"Go back"}),(0,h.jsx)("ul",{children:v.map((function(t){return(0,h.jsx)("li",{children:(0,h.jsx)(s.rU,{to:"/movies/".concat(t.id),children:t.title})},t.id)}))})]}):m&&0===v.length?(0,h.jsx)("p",{children:"No movies found"}):null]})}}}]);
//# sourceMappingURL=74.482a592c.chunk.js.map